<div data-controller="add-accessory">
  <div class="add-furniture">
    <% if user_signed_in? %>
      <button data-action="click->add-accessory#displayForm" class="btn btn-outline-primary">Ajouter une nouvelle cr√©ation</button>
    <% end %>
  </div>
  <div class="category-search">
    <% @accessory_types.each do |type| %>
        <%= link_to type, show_by_type_accessories_path(type) %>
    <% end %>
  </div>
  <div>
    <%= render "accessories/add_accessory_form", accessory: @accessory %>
  </div>

  <div class="row justify-content-center" data-controller= "furniture-search-filter">
    <div class="col-sm-8 my-3">
      <%= form_with url: accessories_path, method: :get, class: "d-flex", data: { furniture_search_filter_target: "filter"} do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Entrez un mot-clef",
          data: { action: "keyup->furniture-search-filter#filter",
              furniture_search_filter_target: "input" }
          %>
        <%= button_tag(type: "submit", class: "btn btn-link text-info") do %>
        <i class="fa fa-search"></i>
        <% end %>
      <% end %>
    </div>
    <%= render "accessory_filtered", accessories: @accessories%>
  </div>
</div>
